########################################
#            App Settings              #
########################################
APP_PORT=3003
RUST_LOG=info

# JWT
JWT_SECRET=your_secure_jwt_secret_key_change_in_production

# Frontend URL for email templates
FRONTEND_LOGIN_URL=http://localhost:3003/login

# DB connect retry (used by app startup)
DB_CONNECT_MAX_ATTEMPTS=12
DB_CONNECT_BASE_DELAY_MS=1000

########################################
#        PostgreSQL (3 options)        #
########################################
# 1) App runs INSIDE Docker Compose (recommended)
#    The app connects to Postgres by service name (no host publish needed in prod)
#DATABASE_URL=postgresql://appuser:app_pass@postgres:5432/app_db

# 2) App runs on HOST, Postgres is in Docker (dev)
#    docker-compose maps host 5433 -> container 5432 to avoid clashing with host 5432
#DATABASE_URL=postgresql://appuser:app_pass@localhost:5433/app_db?sslmode=disable

# 3) External managed Postgres (e.g., Supabase)
#DATABASE_URL=postgresql://username:password@db.host:5432/your_db_name?sslmode=require

# Compose Postgres service defaults
POSTGRES_USER=appuser
POSTGRES_PASSWORD=app_pass
POSTGRES_DB=app_db
# host port for local access (dev only); keep 5433 to avoid conflict with host 5432
POSTGRES_HOST_PORT=5433

########################################
#               Redis                  #
########################################
# When app runs INSIDE Docker Compose
#REDIS_URL=redis://:redis_pass@redis:6379

# When app runs on HOST and Redis is in Docker (published)
#REDIS_URL=redis://:redis_pass@localhost:6379

# Compose Redis service defaults
REDIS_PASSWORD=redis_pass
REDIS_PORT=6379

########################################
#             Email (SMTP)             #
########################################
# Required for password reset & other emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password
FROM_EMAIL=your_email@gmail.com
FROM_NAME=Axum Auth System

# Gmail tips:
# 1. Enable 2FA
# 2. Create an App Password and use it as SMTP_PASSWORD

# Other providers:
# - Outlook/Hotmail: smtp.live.com:587
# - Yahoo: smtp.mail.yahoo.com:587
# - Custom SMTP: use your provider's settings

########################################
#             VPS / Prod               #
########################################
# Use: docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
# In production override, Postgres is NOT published; the app uses:
#   postgresql://appuser:app_pass@postgres:5432/app_db
# This avoids conflicts with a host Postgres already on 5432.
